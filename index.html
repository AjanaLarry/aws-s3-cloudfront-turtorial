<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Hosting a Vue.js Single Page Application (SPA) on AWS Simple Storage Service (S3)</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="fa87a868-6289-4018-a47e-de6665ce7542" class="page sans"><header><h1 class="page-title"><strong>Hosting a Vue.js Single Page Application (SPA) on AWS Simple Storage Service (S3)</strong></h1></header><div class="page-body"><figure id="7bc62214-2ea6-4c2f-8ef6-5477af4ab35a" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/SPA_Header_1.jpg"><img style="width:2000px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/SPA_Header_1.jpg"/></a></figure><h3 id="bd03f5a3-82db-4d0c-a64a-4817fd91551b" class=""><strong>Summary</strong></h3><p id="1b9ea1e4-10b4-4ec3-aa50-a4bbcb305a55" class="">I was recently tasked with deploying and hosting a Vue.js frontend application on AWS. The project required the use of HTTPS, a custom domain, a hosting service for the deployment files, and a content delivery network. So, I decided to share the process as a step-by-step tutorial, to help those who may have similar requirements.</p><h3 id="790b3d80-e1c7-40b6-b739-3fcfd442961e" class=""><strong>Objectives</strong></h3><p id="2fa5ef90-13f4-41a8-822d-e53ba0df7da7" class="">In this tutorial, we will do the following:</p><ul id="d048b76d-2fae-41a8-8fa5-7898234d93dd" class="bulleted-list"><li style="list-style-type:disc">Set up a custom domain name</li></ul><ul id="b0fa809a-2071-4db9-8ee6-1dc38dde3d4a" class="bulleted-list"><li style="list-style-type:disc">Set up an S3 bucket to store and host our application file</li></ul><ul id="43e3e197-92ba-44a9-af3a-798775796d6e" class="bulleted-list"><li style="list-style-type:disc">Set up an SSL Certificate, and redirect all HTTP traffic to HTTPS</li></ul><ul id="26f94bb3-f0b8-4b73-ae8b-85c05ca125f0" class="bulleted-list"><li style="list-style-type:disc">Create an IAM policy, a user, and access credentials</li></ul><ul id="5f859e37-a535-452e-aa45-612cc207623f" class="bulleted-list"><li style="list-style-type:disc">Programmatically access AWS using <strong><em><mark class="highlight-gray_background">aws-cli</mark></em></strong> command and deploy files to S3</li></ul><ul id="35c35e2d-fa4c-4ee7-af96-44206aab626b" class="bulleted-list"><li style="list-style-type:disc">Set up a CloudFront distribution and resolve it to our custom domain name</li></ul><ul id="1ddf86df-7aec-4046-af86-36624500614a" class="bulleted-list"><li style="list-style-type:disc">Set up a bucket policy to restrict access to bucket content</li></ul><h3 id="903cf5a4-2b40-4ec1-be8e-cf13364bc638" class=""><strong>Requirements</strong></h3><p id="2a18fe37-f238-4536-bed6-9dc8fe334f04" class="">To successfully host and secure our single-page application an <strong>AWS account</strong> is required. We will use the following services:</p><ul id="939f0b48-cafd-4bdb-9f46-d23ee010133c" class="bulleted-list"><li style="list-style-type:disc"><strong>AWS S3:</strong> since our application is static, we can host the files in an S3 bucket. S3 is highly scalable, reliable, delivers high performance, and is secure</li></ul><ul id="a618b0fd-829c-41ea-bbe2-775d921a2059" class="bulleted-list"><li style="list-style-type:disc"><strong>AWS Certificate Manager: </strong>this allows us to generate a custom SSL/TLS certificate to be used with our distribution. Sets up SSL and redirects all HTTP traffic to HTTPS</li></ul><ul id="7b89606a-baba-450e-80fa-d52d399e5c9c" class="bulleted-list"><li style="list-style-type:disc"><strong>CloudFront:</strong> is a Content Delivery Network (CDN) that securely delivers content globally, offering low latency and high transfer speed. It provides distribution for our site at edge locations worldwide.</li></ul><ul id="a100af93-459c-496a-ba16-7df9ee632083" class="bulleted-list"><li style="list-style-type:disc"><strong>IAM:</strong> this enables us to create user profile credentials to programmatically deploy our application to AWS S3</li></ul><ul id="fd35e00a-8937-47f7-9c27-8c241f6fec46" class="bulleted-list"><li style="list-style-type:disc"><strong>Route 53:</strong> this provides domain registration, DNS &amp; traffic management services. We’ll set up Route 53 to point to our CloudFront distribution.</li></ul><p id="00ba48bb-b42b-4209-a9f2-d0583830996a" class="">
</p><p id="01a74943-f29e-48e2-90a5-d88c8bc3947a" class="">Some of the benefits of using the above choice of services are:</p><ul id="d0197dd8-93a4-4efa-948c-700d878e4cfb" class="bulleted-list"><li style="list-style-type:disc">They are serverless</li></ul><ul id="c6256397-419a-4df8-9520-43fa41becdf1" class="bulleted-list"><li style="list-style-type:disc">Cost efficient and employs a pay-as-you-go model</li></ul><ul id="1d4ebbe2-a354-49e7-b7fd-2b8318cea514" class="bulleted-list"><li style="list-style-type:disc">Scalable and high performance</li></ul><ul id="19517511-c1ad-4436-b2e4-fddc7282b008" class="bulleted-list"><li style="list-style-type:disc">Ease of use and maintenance</li></ul><ul id="154c5664-827a-49dc-bb93-7347a1c2ccf0" class="bulleted-list"><li style="list-style-type:disc">No upfront cost </li></ul><p id="9988e650-2844-4f3e-8c83-3067d6cdde67" class="">
</p><p id="06bbf509-2fe0-4736-8b64-675a7cc70b5a" class="">See below the architecture pattern for our hosted single-page application on AWS Cloud.</p><p id="4950e297-94ad-44c1-8dbf-5d957789a4a2" class="">
</p><figure id="32b2ecd4-7a4f-4ed4-b328-97c12313fc43" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Architecture_Diagram_1.png"><img style="width:1069px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Architecture_Diagram_1.png"/></a></figure><p id="56e3bbd8-56f5-4cab-a74f-740d8b584dab" class="">
</p><p id="04dfa130-94e4-41d3-8a48-76bc9f50a90c" class="">By the end of this tutorial, your application will be securely hosted on AWS and globally available. Okay, let’s get started.</p><h3 id="573f437e-8d16-4027-a9ff-13b68647cc3a" class="">Step 1: <strong>Build the Site for Production</strong></h3><p id="73b4d29f-c1bd-4878-a27b-64266eadd7b6" class="">Depending on how you’ve created your site, I’ll leave it to you to build the production codebase. Since I built my web application with the Vue CLI, I will use the <strong><mark class="highlight-gray_background"><em>npm run build</em></mark></strong> command to build the production site.</p><figure id="56348ac7-2e9b-42d4-aca7-5e90d34a2dc2" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Building_SPA_1.png"><img style="width:958px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Building_SPA_1.png"/></a></figure><p id="8e2db8b8-afc5-4099-95be-4e0311c54b4e" class="">
</p><p id="ddf38029-bbf0-4066-a487-7af4c7513867" class="">The web application was been successfully built, a <mark class="highlight-gray_background">dist</mark> directory was created and is ready to be deployed.</p><figure id="4d4e1c0e-b9da-4105-b2ce-a7168b16b8c3" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Building_SPA_2.png"><img style="width:1481px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Building_SPA_2.png"/></a></figure><p id="ab2b1e71-c41a-450c-8594-c1cce8c9c42f" class="">
</p><h3 id="6df038b8-db99-46d8-ac82-32abb1452f1f" class="">Step 2: Set up a Domain in Route 53</h3><ul id="fd707ba5-50f6-4015-89f3-01c0839d87c5" class="bulleted-list"><li style="list-style-type:disc"><strong>Register a domain: </strong><strong><mark class="highlight-red">myexample.com</mark></strong><strong> </strong>on AWS  <ol type="1" id="ec2471f4-debd-4f3e-9d6f-423eba333359" class="numbered-list" start="1"><li>Navigate to Route 53 dashboard. Click <strong>Register domain</strong></li></ol><ol type="1" id="3bf296ce-1cd6-4a94-ae64-b6c9d615925c" class="numbered-list" start="2"><li>Enter a <strong>domain name. </strong>Check for availability, add to <strong>cart</strong>, then click <strong>continue</strong><figure id="804bfd66-661d-444d-9094-1365cee3febe" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1b_Choose_a_Domain_Name_2.png"><img style="width:1041px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1b_Choose_a_Domain_Name_2.png"/></a></figure></li></ol><ol type="1" id="8f90814e-98ae-4eb1-89ea-b04d524c353e" class="numbered-list" start="3"><li>Fill out the contact details for the domain registrant, then click <strong>continue</strong><figure id="641775df-6803-4ae2-b6f6-19cf236364c7" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1c_Fill_Contact_Details.png"><img style="width:1279px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1c_Fill_Contact_Details.png"/></a></figure></li></ol><ol type="1" id="582fdebc-cb1d-42b8-986c-9afb24db7a49" class="numbered-list" start="4"><li>Accept terms and conditions to proceed. Click <strong>complete order</strong></li></ol><ol type="1" id="5be3342e-2ff6-41a8-ad5a-794a0e151e66" class="numbered-list" start="5"><li>Your domain will appear as a pending request. An email verification will be sent to you from Amazon Registrar, please verify your email.</li></ol><p id="124ee6df-82cf-427d-93dc-607b77f0b27a" class="">
</p></li></ul><ul id="caec42e5-dbc7-43d2-b958-c90e384db19f" class="bulleted-list"><li style="list-style-type:disc"><strong>Create a Hosted Zone in AWS: </strong><ol type="1" id="adb9fd29-55c9-4e90-b1ad-8a26e6e6f82f" class="numbered-list" start="1"><li>Navigate to Route 53 dashboard<strong>. </strong>Click on <strong>create hosted zone </strong></li></ol><ol type="1" id="c0f7944b-9871-4403-8845-90ccedc0bb73" class="numbered-list" start="2"><li>Enter your <strong>domain name</strong> and leave the type as <strong>Public hosted zone. </strong>Click on <strong>create hosted zone</strong><figure id="47d8fa6f-05bd-43b9-84b2-c09d53987ba0" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1f_Create_Hosted_Zone_2.png"><img style="width:894px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1f_Create_Hosted_Zone_2.png"/></a></figure></li></ol></li></ul><p id="52cf2d6a-2602-4c28-ae83-47c652622925" class="">
</p><ul id="de90dc82-d7a7-4560-a8bc-23963c8b6bc1" class="bulleted-list"><li style="list-style-type:disc"><strong>Change registrar DNS: </strong>this will allow Route 53 to handle DNS. Set the DNS servers to the values in the NS record in the Hosted Zone you created in Route 53.<ol type="1" id="8e87d200-ce7b-42d9-979e-44eea0f1e28a" class="numbered-list" start="1"><li>Navigate to your hosted zone. Copy the value of the <strong>NS record</strong> created with the hosted zone.<figure id="241266fd-42c0-4a77-927b-b123a10359f3" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1g_Created_Hosted_Zone_details.png"><img style="width:1229px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1g_Created_Hosted_Zone_details.png"/></a></figure></li></ol><ol type="1" id="5436df70-2128-4da5-9784-2295c6e52260" class="numbered-list" start="2"><li>Replace the DNS servers with the hosted zone <strong>NS record values</strong><figure id="945d79a4-2f3f-4690-8b80-3bf3957ec36e" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1h_Update_Registra_DNS_2.png"><img style="width:1265px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_1h_Update_Registra_DNS_2.png"/></a></figure></li></ol></li></ul><p id="98094306-e4b8-4798-8210-0afa16f587a2" class="">
</p><h3 id="132f764f-6af1-47df-af6c-ce9420b72ad8" class="">Step 3: Host the single-page application in S3</h3><ul id="be08130c-4885-40c3-9585-d067ead7a62f" class="bulleted-list"><li style="list-style-type:disc"><strong>Create a bucket</strong><ol type="1" id="595dfdfb-8e3e-4920-bb64-309c35aca61a" class="numbered-list" start="1"><li>Navigate to Amazon S3. Click on<strong> Create bucket</strong></li></ol><ol type="1" id="c45edbc7-fd84-4aeb-bed8-8fb79e0e7fa8" class="numbered-list" start="2"><li>Enter your unique bucket name (<strong><mark class="highlight-red">my-example-bucket</mark></strong>)<figure id="3150d96b-0052-4a0d-9832-dc107474cf2f" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2a_Create_S3_bucket.png"><img style="width:1269px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2a_Create_S3_bucket.png"/></a></figure></li></ol><ol type="1" id="74b1d8fb-02dc-4882-af1b-aa0595c77405" class="numbered-list" start="3"><li>Disable <strong>Access Control List, t</strong>hen uncheck <strong>Block Public Access settings </strong>(this grants public read access to this bucket)<strong>.</strong><figure id="1def6a01-33ce-4fb3-b43c-0f9a6e704920" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2aa_Allow_Public_Access.png"><img style="width:822px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2aa_Allow_Public_Access.png"/></a></figure></li></ol><ol type="1" id="30dc55af-b4bd-48b0-b6cd-6a24a7e99c61" class="numbered-list" start="4"><li>Click <strong>Create bucket.</strong></li></ol><p id="ca54c29f-0aba-4ebf-9b34-23038f27eb85" class="">
</p></li></ul><ul id="c24603a6-9970-4a29-aec5-4cd59a69c457" class="bulleted-list"><li style="list-style-type:disc"><strong>Turn on static website hosting</strong><ol type="1" id="4cdc7f42-15d7-43b0-ad52-486b818b5234" class="numbered-list" start="1"><li>Navigate to the <strong>properties tab</strong></li></ol><ol type="1" id="a98cdce0-a6bf-473f-833a-1d5815d76300" class="numbered-list" start="2"><li>Scroll down, then click on <strong>Edit static website hosting</strong></li></ol><ol type="1" id="c61d10f4-4913-489d-a132-eb6331778135" class="numbered-list" start="3"><li><strong>Enable</strong> static website hosting, then set both the index and error document to <strong>index.html</strong> (this tells S3 where the root of the web application lies)<figure id="9dcf7ad8-1aad-4792-99cf-185ab0c463ca" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2ba_Enable_Static_Web_Hosting.png"><img style="width:843px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2ba_Enable_Static_Web_Hosting.png"/></a></figure></li></ol></li></ul><p id="a9ca7366-f814-4c9c-9e5b-eac79031d251" class="">
</p><ul id="126e31e8-e630-49fd-b0f8-b7da10860a1a" class="bulleted-list"><li style="list-style-type:disc"><strong>Upload Files</strong>: copy in the built website files (including your index.html, favicon, JS, CSS, and any images).<figure id="7e86f884-c164-4297-9b3d-ba5feee6c5ef" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2cb_object_after_bucket_policy_update.png"><img style="width:1179px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2cb_object_after_bucket_policy_update.png"/></a></figure></li></ul><p id="b4ed8ce7-c004-4772-8377-1dc63faddc9f" class="">
</p><ul id="2a1098cc-5ed2-464c-a36a-54c4b9957b8b" class="bulleted-list"><li style="list-style-type:disc">Navigate to the properties tab to get the <strong>URL endpoint</strong> to your website.</li></ul><ul id="21448511-9017-44ed-8626-b89bb99df4dd" class="bulleted-list"><li style="list-style-type:disc">Open the URL in a new tab to see the hosted web application. This will output an error as we haven&#x27;t set an explicit bucket policy.<figure id="2c39710d-4d3b-4138-a779-7003d8485a41" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2bb_403_Error_due_to_no_bucket_policy.png"><img style="width:1133px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2bb_403_Error_due_to_no_bucket_policy.png"/></a></figure></li></ul><ul id="0b578422-be44-4778-8a4e-e16f26ab699d" class="bulleted-list"><li style="list-style-type:disc"><strong>Configure the bucket policy: </strong>in the permissions tab, set the bucket policy to allow the public to read objects from the bucket.<ol type="1" id="d198d7cd-043a-4fc4-9ca3-c7fec33a88d4" class="numbered-list" start="1"><li>Navigate to the <strong>permissions tab, </strong>then<strong> </strong>Click <strong>Edit Bucket policy</strong><figure id="f4d4eb39-c97e-4a7d-95b2-5b936e1c5fef" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2c_Create_a_bucket_policy.png"><img style="width:1160px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_2c_Create_a_bucket_policy.png"/></a></figure></li></ol><ol type="1" id="1c7c8c57-272f-4932-ae58-b85d6d497762" class="numbered-list" start="2"><li>Paste the JSON policy, replacing <strong><mark class="highlight-gray_background">BUCKET-NAME-GOES-HERE</mark></strong> with the name of your S3 bucket:</li></ol><pre id="f196fbfe-b50d-4dc0-95db-a634c833f972" class="code"><code>{
  &quot;Version&quot;:&quot;2012-10-17&quot;,
  &quot;Statement&quot;:[{
	&quot;Sid&quot;:&quot;PublicReadGetObject&quot;,
        &quot;Effect&quot;:&quot;Allow&quot;,
	  &quot;Principal&quot;: &quot;*&quot;,
      &quot;Action&quot;:[&quot;s3:GetObject&quot;],
      &quot;Resource&quot;:[&quot;arn:aws:s3:::BUCKET-NAME-GOES-HERE/*&quot;
      ]
    }
  ]
</code></pre><ol type="1" id="9c6dfb4f-d251-4e2a-bbf7-61df8341bf4b" class="numbered-list" start="3"><li>Click on <strong>Save changes</strong>.</li></ol></li></ul><p id="5de9ecb1-5fe3-4e41-8864-9786be6e7182" class="">Now, our bucket is all set to be served up.</p><p id="6f4a6e27-0dce-49e6-894b-7211e464d0f5" class="">
</p><h3 id="24f47d32-d5ec-4da2-8f28-fe14793fcf47" class="">Step 4: Set up IAM User for Programmatic Access to the S3 Bucket </h3><p id="80c81da0-ced0-406d-83c1-26b892debbca" class="">This is required to enable us programmatically access AWS S3 from our local machine using the aws-cli. We will use the credentials to show that we are authorized to make changes to the S3 bucket. To accomplish this, we need to create an IAM policy and user.</p><ul id="4e49a862-fa8b-4a41-ad08-0fab93a61a42" class="bulleted-list"><li style="list-style-type:disc">Navigate to the<strong> IAM dashboard</strong>, then select <strong>policies</strong></li></ul><ul id="54f2af7f-747d-4cfe-9f4a-c40e71bab9a8" class="bulleted-list"><li style="list-style-type:disc">On the policy page, click on <strong>Create policy</strong><figure id="33f47a68-c6a0-48c8-a3fa-a8b30181a305" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3a_Create_IAM_Policy.png"><img style="width:1274px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3a_Create_IAM_Policy.png"/></a></figure></li></ul><p id="906b6cb1-d251-4c36-a96b-9a63ca9779f8" class="">
</p><ul id="7f9607b5-dcb6-4dd8-b555-01d0ea9699ac" class="bulleted-list"><li style="list-style-type:disc">Click on the<strong> JSON tab</strong>. Paste in the JSON code, then replace <strong><mark class="highlight-gray_background">BUCKET-NAME-GOES-HERE</mark></strong> with your bucket name<pre id="4d1111cf-ccf9-430a-864a-ec7c19e411bc" class="code"><code>{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
            &quot;Sid&quot;: &quot;VisualEditor0&quot;,
            &quot;Effect&quot;: &quot;Allow&quot;,
            &quot;Action&quot;: [
                &quot;s3:PutObject&quot;,
                &quot;s3:GetObject&quot;,
                &quot;s3:ListBucket&quot;,
                &quot;s3:DeleteObject&quot;,
                &quot;s3:GetBucketPolicy&quot;
            ],
            &quot;Resource&quot;: [
                &quot;arn:aws:s3:::BUCKET-NAME-GOES-HERE&quot;,
                &quot;arn:aws:s3:::BUCKET-NAME-GOES-HERE/*&quot;
            ]
        }
    ]
}</code></pre></li></ul><p id="40a6ccf6-40a8-40e1-aaca-9e7181107825" class="">This policy grants read and write access to our S3 bucket</p><ul id="9330849e-cef6-412c-a588-b1fc052d25cb" class="bulleted-list"><li style="list-style-type:disc">Click on <strong>Review Policy</strong>, then provide a name for your policy. Proceed to click on <strong>Create Policy</strong>.<figure id="13a73c77-139c-4a1a-8282-2bafefb0f487" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3ab_Confirm_IAM_Policy.png"><img style="width:1255px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3ab_Confirm_IAM_Policy.png"/></a></figure></li></ul><p id="9c215ac0-cfcd-4888-80de-e883715ef70a" class="">
</p><ul id="cce0951d-fe01-460c-a474-c756f5cf4bdc" class="bulleted-list"><li style="list-style-type:disc">Next, we’ll create an IAM user and attach this policy to its set of permissions. We will use this user’s credentials to access S3 using <mark class="highlight-gray_background"><strong>aws-cli</strong></mark>.</li></ul><ul id="3b4bb42b-d3a2-40ce-b126-a102f38ee18c" class="bulleted-list"><li style="list-style-type:disc">Navigate back to the <strong>IAM dashboard</strong>, and click on <strong>users</strong>. Then, click on <strong>Add users</strong><figure id="62c79f2a-15ca-48b5-8301-26302e6273ea" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3b_Create_New_User.png"><img style="width:1238px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3b_Create_New_User.png"/></a></figure></li></ul><ul id="c021ee1e-be0b-4309-a4bb-825e4e7cecf0" class="bulleted-list"><li style="list-style-type:disc">Enter a name for your user and check the<strong> </strong><em><strong>Access Type</strong></em><em> </em>box for <strong>“Programmatic access”.</strong> Click on <strong>Next: Permissions</strong><figure id="d4126f92-92a0-4d67-b8b4-03d43dfa10a7" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3ba_Add_New_User.png"><img style="width:1027px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3ba_Add_New_User.png"/></a></figure></li></ul><ul id="84ff243c-21f4-4c3f-8cb1-e20e25a3b042" class="bulleted-list"><li style="list-style-type:disc">Add the policy that we created above. Click on the option to<strong> “Attach existing policies directly”</strong><figure id="1bd538a0-403f-466b-b440-3dc95f559a8a" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3bb_Set_Permissions.png"><img style="width:1193px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_3bb_Set_Permissions.png"/></a></figure></li></ul><ul id="f9f212a4-6d3e-4e87-ab37-1c6890cf0090" class="bulleted-list"><li style="list-style-type:disc">Click on <strong>Next: Tags</strong>. We don’t need to do anything here. Click on <strong>Next: Review</strong>.</li></ul><ul id="a21295be-705d-41f0-aceb-a17d6562474d" class="bulleted-list"><li style="list-style-type:disc">Click on <strong>Create user </strong>to finish. You’ll be shown the newly created user, along with an <strong><em>Access key ID</em></strong> and a <strong><em>Secret access key</em></strong><em> (this</em> will be used to access our S3 bucket).</li></ul><p id="78b79c4d-71e1-4466-a594-95b5fd2099bc" class="">
</p><h3 id="72d1146b-f1f1-4d79-8d7f-f1a6018608eb" class="">Step 5: Deploy to S3 Bucket from the CLI </h3><p id="978dc212-5e42-4461-9c63-7b1f2db92a2f" class="">We’ll set up a local AWS profile using <mark class="highlight-gray_background"><strong><em>aws configure</em></strong></mark> command with the credentials generated from the above step:<div class="indented"><pre id="0d570bd6-e413-4c93-a686-880887ac9aa0" class="code"><code>~/$ aws configure --profile S3-VueJs-User1
AWS Access Key ID [************]: PASTE ACCESS KEY ID FROM AWS
AWS Secret Access Key [********]: PASTE SECRET ACCESS KEY FROM AWS
Default region name [None]: us-east-1
Default output format [None]: None</code></pre></div></p><p id="8bdae661-bbe3-443c-93a8-7e1647139c11" class="">Running <mark class="highlight-gray_background"><strong><em>aws configure</em></strong></mark> sets up credentials in a file that can be found at <strong><mark class="highlight-gray_background">~/.aws/credentials</mark></strong>. With our AWS profile setup, we can now access our S3 bucket from the CLI.</p><ul id="1f29dcc6-aa45-4488-84ae-7193cf76d0fd" class="bulleted-list"><li style="list-style-type:disc">Run the below command to list all objects in the created bucket (replace <strong><mark class="highlight-gray_background">BUCKET-NAME-GOES-HERE</mark></strong> with your bucket name)</li></ul><pre id="2af25538-3b53-48cb-ab85-f33f5fd02c5c" class="code"><code>~/$ aws --region us-east-1 --profile S3-VueJs-User1 s3 ls s3://BUCKET-NAME-GOES-HERE</code></pre><ul id="90c0e71d-6084-4a59-942c-97a4ae60bf69" class="bulleted-list"><li style="list-style-type:disc">The above command should do nothing as our bucket is currently empty. If that’s the case, then our IAM user, policy, and aws-cli profile credentials have been set up correctly.</li></ul><ul id="a4cbc8af-a6da-4abe-a159-480ebe7f540e" class="bulleted-list"><li style="list-style-type:disc">Now proceed to deploy the production server (<strong><mark class="highlight-gray_background">./dist </mark></strong>) to our S3 bucket using the sync command (replace <strong><mark class="highlight-gray_background">BUCKET-NAME-GOES-HERE</mark></strong> with your bucket name)</li></ul><pre id="3e941720-3bd5-4152-9380-e4f3ab0ba727" class="code"><code>~/$ aws --region us-east-1 --profile S3-VueJs-User1 s3 sync ./dist s3://BUCKET-NAME-GOES-HERE –delete</code></pre><ul id="fe4fc5de-111f-4cc2-9597-0af378542b4c" class="bulleted-list"><li style="list-style-type:disc">The command above would upload each of the files in the <mark class="highlight-gray_background"><strong>./dist</strong></mark> folder to the S3 bucket<figure id="eb936c7a-e879-40b2-979f-0760255bd5bb" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_4b_Deploy_Dist_to_S3.png"><img style="width:975px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_4b_Deploy_Dist_to_S3.png"/></a></figure></li></ul><ul id="5c8b1828-0537-4c0e-9332-903078df4906" class="bulleted-list"><li style="list-style-type:disc">On the AWS console, navigate to the S3 and confirm the uploaded files are in the created bucket<figure id="64bc7a1b-4070-4177-8a96-90f82ef3f94c" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_4c_Deployed_SPA.png"><img style="width:1163px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_4c_Deployed_SPA.png"/></a></figure></li></ul><ul id="ef246a71-f9e3-457a-a3b1-23f386eb5a91" class="bulleted-list"><li style="list-style-type:disc">Next, click on the properties tab for the S3 bucket. Scroll down to static website hosting to locate the bucket website endpoint URL. Open a new tab in your browser and paste the URL, you will see that your application is live.<figure id="c85699cc-59ce-4700-83ef-29601af6ca67" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_4c_Deployed_SPA_Page.png"><img style="width:1214px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_4c_Deployed_SPA_Page.png"/></a></figure></li></ul><p id="9e165dd0-fe51-4220-914d-81b88ad034f1" class="">
</p><p id="842094cc-f446-44ff-a85a-7c5f6545388f" class=""><strong>Note:</strong> One of the limitations of static web hosting is that S3 website endpoints do not support HTTPS.</p><p id="b2785585-05e6-44cb-92b3-e63b5c225a70" class="">
</p><h3 id="7ace2ac9-1385-4a3e-9c42-e143758c2d25" class="">Step 5: Request SSL Certificate using AWS Certificate Manager (ACM)</h3><p id="e4fd224e-738f-45ab-8caa-0c0696c46fd7" class="">ACM offers free public certificates to provide Secure Socket Layer (SSL) and Transport Layer Security (TSL) encryption for your websites over the internet.</p><ul id="81da1340-f3c0-45b4-ba87-accf868786c0" class="bulleted-list"><li style="list-style-type:disc">Navigate to <strong>ACM, </strong>then click <strong>Request a certificate</strong><figure id="cfae596e-3a7c-47ab-8bce-9225dd2a18ca" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5b__Request_SSL_Certificate.png"><img style="width:1230px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5b__Request_SSL_Certificate.png"/></a></figure></li></ul><ul id="c21c27a3-9b53-465e-bf83-c0aa6b8d505c" class="bulleted-list"><li style="list-style-type:disc">Set the domain name to your registered domain name(<mark class="highlight-red"><strong>myexample.com</strong></mark>)</li></ul><ul id="9a0894fb-2dec-484f-a7ac-8904a80bb335" class="bulleted-list"><li style="list-style-type:disc">Click <strong>DNS validation</strong> and <strong>confirm the request</strong><figure id="5ce82ac0-436c-44a4-af74-f5a3b4b37233" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5c__Request_Public_Certificate.png"><img style="width:908px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5c__Request_Public_Certificate.png"/></a></figure></li></ul><ul id="af150e8e-e70a-499f-8475-ff903488314d" class="bulleted-list"><li style="list-style-type:disc">Click <strong>Create a record in Route53</strong>. <figure id="790ef627-8f2f-4338-9f01-a909ce90161b" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5d__Validate_Certificate.png"><img style="width:877px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5d__Validate_Certificate.png"/></a></figure></li></ul><ul id="bafa4d31-71be-4ea3-83bb-c0d38b433905" class="bulleted-list"><li style="list-style-type:disc">This creates a CNAME record in the DNS settings for your domain, according to the values given to you here, and verifies that your own the domain. Check ACM to confirm the status of the issued certificate.<figure id="f01bd2a5-e53a-46fd-a6dc-3e1600b28d0b" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5f_Isssued_SSL_Certificate.png"><img style="width:1149px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_5f_Isssued_SSL_Certificate.png"/></a></figure></li></ul><p id="dfc126db-edf8-40a2-a227-fba18d494dd3" class="">
</p><h3 id="b61eeea6-96c7-4242-8ab3-279fe2821e12" class="">Step 6: Set up our CloudFront Distribution</h3><p id="228e417d-e757-4944-a427-4d0337e8e821" class="">CloudFront is a Content Delivery Network (CDN) that caches and serves copies of our websites at edge locations all over the world, thereby making your website faster to access. This will let us configure HTTPS while improving the performance of our site.</p><ul id="b025a957-267e-4e38-abbf-0935d9f58f4d" class="bulleted-list"><li style="list-style-type:disc"><strong>Create the First Distribution </strong><ol type="1" id="3534f2a5-48f5-4d79-93dc-eede44fd4825" class="numbered-list" start="1"><li>Navigate to <strong>Amazon CloudFront</strong>, then click on<strong> Create a CloudFront distribution</strong></li></ol><ol type="1" id="8d391d77-a8df-4c4d-9ed9-b02e38952574" class="numbered-list" start="2"><li>Configure the <strong>Origin Domain Name</strong> to your S3 bucket URL endpoint (<mark class="highlight-red"><strong>my-example-bucket.s3.us-east-1.amazonaws.com</strong></mark>)</li></ol><ol type="1" id="92e941b7-5e70-4bc9-9b02-9bb2fa87ac2a" class="numbered-list" start="3"><li>Create a new <strong>origin access identity (OAI): </strong>CloudFront will use this identity to access objects in our S3 bucket</li></ol><ol type="1" id="843b4136-7736-4388-aadf-5e6d47f37cf5" class="numbered-list" start="4"><li>Click <strong>Yes, update the bucket policy</strong><figure id="c5fad79d-9880-4e07-b0f2-bfddd16aa3e8" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6cd_Updated_CloudFront_Distribution_.png"><img style="width:834px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6cd_Updated_CloudFront_Distribution_.png"/></a></figure></li></ol><ol type="1" id="cedf1968-52d1-4a12-a3d5-18bba3f43b80" class="numbered-list" start="5"><li>Change the <strong>Viewer Protocol Policy</strong> to <strong>Redirect HTTP to HTTPS</strong></li></ol><ol type="1" id="a9809db0-9900-485a-80a9-798e310e482b" class="numbered-list" start="6"><li>Set <strong>CNAME</strong> to your primary domain name (<mark class="highlight-red"><strong>myexample.com</strong></mark>)</li></ol><ol type="1" id="2d8965b6-76d8-46c5-a12b-8fc572229577" class="numbered-list" start="7"><li>Select the<strong> custom SSL Certificate</strong> earlier created with ACM</li></ol><ol type="1" id="8e108747-0086-4ca7-aa89-0ee02758ba3b" class="numbered-list" start="8"><li>Select a <strong>Security policy</strong>: <strong>TLSv1.2_2021 (recommended)</strong><figure id="fea9007b-b92a-44f1-b199-3f6beed00485" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6bb_Create_CloudFront_Distribution_.png"><img style="width:796px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6bb_Create_CloudFront_Distribution_.png"/></a></figure></li></ol><ol type="1" id="7cdf06b7-99ca-40c5-ac0c-78207ce706f9" class="numbered-list" start="9"><li>Set <strong>default root object</strong> for distribution to<strong> index.html</strong></li></ol><p id="5d3ca436-6386-413e-ad5c-3d270b2c5ecd" class="">
</p></li></ul><ul id="b692b47b-5df8-4b9e-81d7-21b7b12c6eec" class="bulleted-list"><li style="list-style-type:disc"><strong>Create the Second Distribution</strong><ol type="1" id="761bb4a8-c19c-457c-bdb4-917b3f1c37da" class="numbered-list" start="1"><li>Replicate step 1 to step 5 as shown in the first distribution</li></ol><ol type="1" id="a2aa41f9-149d-4909-9a71-25e191fc1759" class="numbered-list" start="2"><li>Set <strong>CNAME</strong> to your primary domain name (<strong><mark class="highlight-red">www.myexample.com</mark></strong>)</li></ol><ol type="1" id="79e2edd2-1950-4244-b3cf-fe943a088449" class="numbered-list" start="3"><li>Replicate step 7 to step 9 as shown in the first distribution<figure id="d52484d2-e8af-4673-a262-8be262e93954" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6d__CloudFront_Distribution_List.png"><img style="width:1198px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6d__CloudFront_Distribution_List.png"/></a></figure></li></ol><p id="2b650237-fdb3-4d14-bd48-9a51149a4546" class="">
</p></li></ul><ul id="b9b5949c-ac56-4e10-8a6d-b20ae7c04466" class="bulleted-list"><li style="list-style-type:disc"><strong>Set up Error Page redirects to index.html</strong></li></ul><p id="18434049-360c-41d6-894b-b386794ed8b1" class="">This setting will redirect all error responses to index.html, thereby letting the single-page application handle routing.<div class="indented"><ol type="1" id="4666d613-0064-43ea-a3d3-be91aaa21c0d" class="numbered-list" start="1"><li>Navigate to the distribution<strong> Error page tab.</strong></li></ol><ol type="1" id="826ecd96-136a-4b84-8ec3-ab6ebe5a3026" class="numbered-list" start="2"><li>We will create two custom error responses (403 Forbidden and 404 Not Found). Click on <strong>Create custom error response </strong><figure id="4a5ecf6f-c727-49a9-b443-641e286a6c2e" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6c_Set_Up_Redirects.png"><img style="width:1211px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6c_Set_Up_Redirects.png"/></a></figure></li></ol><ol type="1" id="221961ea-1271-46aa-8a4b-118449812c77" class="numbered-list" start="3"><li>Set <strong>HTTP Error Code</strong> to <strong>403/404</strong><figure id="d7be79b2-3f9c-44c6-8d46-739c92e4e3ca" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6ca_403_Error_Set_Up_Redirects.png"><img style="width:822px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6ca_403_Error_Set_Up_Redirects.png"/></a></figure></li></ol><ol type="1" id="ab7b0f2c-0db6-4601-a0f5-79b2607edc9a" class="numbered-list" start="4"><li>Set <strong>Error caching minimum TTL</strong> to <strong>0</strong> seconds</li></ol><ol type="1" id="05e2f631-7cbd-406f-97a4-8ccbfc19cc76" class="numbered-list" start="5"><li>Set <strong>Customized error response</strong> to <strong>Yes</strong></li></ol><ol type="1" id="3830657b-84b7-453d-919f-78f6d9e8982b" class="numbered-list" start="6"><li>Set <strong>Response Page Path</strong> to <strong>/index.html</strong></li></ol><ol type="1" id="8481c977-0910-49b1-82b5-6319b49119cd" class="numbered-list" start="7"><li>Set <strong>HTTP Response code</strong> to <strong>200: OK</strong><figure id="5387f29d-ad7c-48f9-9dd4-229a89e49679" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6cb_404_Error_Set_Up_Redirects.png"><img style="width:831px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_6cb_404_Error_Set_Up_Redirects.png"/></a></figure></li></ol><ol type="1" id="2a28b669-0167-40c0-a245-480f5418acf7" class="numbered-list" start="8"><li>Repeat the above steps for the second distribution</li></ol><p id="64b9a1e4-e1c9-436f-9f54-62c94f956ca3" class="">
</p></div></p><h3 id="fe1bc0bc-65db-4d56-9ca5-0d1440d15eb8" class="">Step 7: Configure Route53 DNS record</h3><p id="07b6e519-a86b-4215-899a-da220111d71a" class="">This configuration points Route53 to our CloudFront distribution. We will create an <strong>A Record</strong>, which will serve as an alias that resolves our custom domain name to our CloudFront distribution. </p><ul id="e4d1ca1c-7a90-45c2-aed9-4058b244c08f" class="bulleted-list"><li style="list-style-type:disc">Navigate to <strong>Route 53</strong>, then click on the created <strong>hosted zone</strong></li></ul><ul id="ca763bf2-0c5f-411b-b717-e4464770e623" class="bulleted-list"><li style="list-style-type:disc">Click on <strong>Create record (Root Domain)</strong><ol type="1" id="57b5d230-4a1c-4c9e-9f2b-c5b8148e0991" class="numbered-list" start="1"><li>Keep the <strong>record name</strong> blank to create a record for your root domain (<mark class="highlight-red"><strong>myexample.com</strong></mark>)</li></ol><ol type="1" id="4a5dd25f-332f-43b0-9336-7f05b13671e1" class="numbered-list" start="2"><li>Set the <strong>record type</strong> to<strong> A-IPv4 address</strong></li></ol><ol type="1" id="cde2de74-03a2-4d02-9f17-423fe1d4c963" class="numbered-list" start="3"><li>Set <strong>Alias</strong> to <strong>Yes</strong></li></ol><ol type="1" id="347fe897-09cc-41e2-ad54-65f58630fd1f" class="numbered-list" start="4"><li>Set <strong>Alias target</strong> to your <strong>First CloudFront distribution </strong>from the dropdown</li></ol><ol type="1" id="1e804a56-c659-48f1-adff-48299d42a266" class="numbered-list" start="5"><li>Click on <strong>Create</strong><figure id="2b9b4da9-9191-415f-903a-972a4bb1bab4" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_7a_Create_A_Record_for_CloudFront.png"><img style="width:1124px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_7a_Create_A_Record_for_CloudFront.png"/></a></figure></li></ol></li></ul><ul id="428005d7-20a5-4a8d-a926-16670f699943" class="bulleted-list"><li style="list-style-type:disc">Click on <strong>Create record (Sub-Domain)</strong><ol type="1" id="8662204f-eddc-4a47-bd1e-ec1d1988424c" class="numbered-list" start="1"><li>For the <strong>record name</strong> enter <mark class="highlight-red"><strong>www</strong></mark> to create a record for your sub-domain (<mark class="highlight-red"><strong>www.myexample.com</strong></mark>)</li></ol><ol type="1" id="aa9046c4-b99b-40c0-bbf4-c04e71131a8a" class="numbered-list" start="2"><li>Repeat steps 2 and 3 above </li></ol><ol type="1" id="3b624e43-4abf-4c3b-ac8a-8eb23213a1c1" class="numbered-list" start="3"><li>Set <strong>Alias target</strong> to your <strong>Second CloudFront distribution </strong>from the dropdown</li></ol><ol type="1" id="70a0ee2e-554e-408c-b11f-193fcfa14b4e" class="numbered-list" start="4"><li>Click on <strong>Create</strong><figure id="2ba2861f-366c-461b-bbea-9f4efeb68efe" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_7a_Create_A_Record_for_CloudFront_2.png"><img style="width:1124px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_7a_Create_A_Record_for_CloudFront_2.png"/></a></figure></li></ol></li></ul><p id="de101cb1-7fca-447d-bd63-a0272b492020" class="">
</p><h3 id="361ae91c-0fb9-4dac-aada-26fb482486a6" class="">Step 8: Modify S3 Bucket Policy</h3><p id="7ba4160c-251d-4a24-96c4-50ce5e7f9e1f" class="">Lastly, we will navigate to our S3 bucket to remove the bucket policy that was added in Step 3 above. This modification will remove public access to our S3 bucket, and give explicit access to only CloudFront. </p><figure id="1060a983-a22d-4723-a422-5752fc859b0e" class="image"><a href="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_7a_Update_Bucket_Policy.png"><img style="width:1149px" src="Hosting%20a%20Vue%20js%20Single%20Page%20Application%20(SPA)%20on%20%207bc622142ea64c2f8ef65477af4ab35a/Step_7a_Update_Bucket_Policy.png"/></a></figure><p id="9f1a77c4-8f07-4bf5-b1d2-efaba6b48565" class="">
</p><p id="98da2ea9-ec7d-4fd4-9609-b958f431e747" class=""><strong>Note:</strong> Making changes to your SPA can take some time to propagate. However, you can create a CloudFront Invalidation to clear the cache for CloudFront when testing new configurations.</p><p id="c8f833cc-dc80-4f76-9ad8-19b32c6ea58b" class="">
</p><p id="381c49f7-d6be-4a07-b47b-72c6bf02d2f7" class="">That’s it! Great work today, friends. Now if you navigate to your URL, you should see that your site is live. Also, let&#x27;s check that HTTPS is properly set up and HTTP redirects to HTTPS. While you’re at it, go check out mine too! </p><p id="945a7f56-19ca-4784-b247-caa6f5feb558" class="">
</p><p id="77e76bb2-9ae3-4815-9de0-cc4b2c12f261" class=""><strong><a href="https://oluwajuwonajana.com">https://oluwajuwonajana.com</a></strong></p><h3 id="efb0310b-007c-440b-9753-8778d3fe6887" class="">Conclusion</h3><p id="018cd48e-f3fb-4f8f-a5a3-3bc24793e156" class="">The goal of this tutorial was to guide us through the steps of deploying a Vue.js application to AWS for hosting and making the necessary changes to allow HTTPS and a custom domain name.</p><h3 id="59c55652-ac09-4516-8556-afec5c43f9e5" class=""><strong>Thanks for reading!</strong> </h3><p id="7f908df6-d76b-4643-ba6b-ac3193e2e5ba" class="">If you enjoyed this post, follow on<strong> </strong><strong><a href="https://twitter.com/nigerian_boi">Twitter</a></strong> and <strong><a href="https://medium.com/@oluwajuwonajana">Medium</a></strong> for more content. If you have any feedback, suggestions, or something you’d like to see in a future post. Please leave them in the comments below and I’ll do my best to get back to you.</p><p id="385c3df4-4542-42e6-92f3-33facb954a5a" class="">
</p></div></article></body></html>